# <p align="center">ListBot
<p align="center"> A simple bot for <a href="https://telegram.org/">Telegram</a>.
  
[![Build Status](https://travis-ci.org/VladislavBurch/ListBot.svg?branch=master)](https://travis-ci.org/VladislavBurch/ListBot)
[![PyPI](https://img.shields.io/pypi/v/nine.svg)](https://pypi.python.org/pypi/ListBot/)
[![Codacy grade](https://img.shields.io/codacy/grade/e27821fb6289410b8f58338c7e0bc686.svg)](https://www.codacy.com/app/VladislavBurch/ListBot/dashboard)

 * [Цель](#цель)
 * [Основные определения](#основные-определения)
 * [Введение](#введение)
 * [Требования к проекту](#требования-к-проекту)
 * [Проектирование системы](#проектирование-системы)
   * [Технические аспекты](#технические-аспекты)
   * [Логические аспекты](#логические-аспекты)
 * [Выбор технологий](#выбор-технологий)
   * [Выбор языка программирования](#выбор-языка-программирования)
   * [Выбор используемых библиотек](#выбор-используемых-библиотек)
 * [Описание технический решений](#описание-технических-решений)
 * [Заключение](#заключение)
 * [Список используемых источников](#список-используемых-источников)

## Цель
  Главной целью курсового проекта является реализация telegram-бота для получения с помощью него расписания занятий. Так же целью явлется научиться создавать и документировать ботов для telegram, написанный на языке программирования python.
## Основные определения
  *Telegram* — бесплатный кроссплатформенный мессенджер для смартфонов и других устройств, позволяющий обмениваться текстовыми сообщениями и медиафайлами различных форматов.
  
   *Бот* — специальная программа, выполняющая автоматически и/или по заданному расписанию какие-либо действия через интерфейсы, предназначенные для людей.
   
   *Unit-тесты* - процесс в программировании, который позволяет проверить исходный код на корректность, а также дает возможность разработчику удостовериться в том, что внесенные изменения не привели к появлению ошибок в уже протестированных местах программы.
## Введение
  Сейчас, когда  IT-технологии развиваются с невообразимой скоростью, скорость жизни тоже изменилась. Необходимость быстрого и удобного програмного обеспечения, позволяющего производить рутинные действия вместо или вместе с человеком чувствуется как никогда. Боты решают проблему оптимизации времени. Маленькие программы, которые выигрывают _пару минут_ и несколько байт памяти приобрели ценность.
  
  Как одно из рутинных занятий можно выделить проверку расписания. Часто студенты для этого заходят на сайт МГТУ или фотографируют его в начале семестра. Это неудобно по нескольким причинам: во первых, загрузка страниц в интернете _съедает_ много траффика, а фотографии память на телефоне. Во-вторых, прогрузка страниц - это долго, так же как и поиск фотографии в телефоне, особенно фотографии, сделанной в начале семестра. ListBot ест меньше траффика и памяти, к тому же он значительно быстрее.
  
  Существует несколько вариантов просмотра расписания, но самым популярным является картинка. Но есть несколько минусов именно этого способа просмотра: использование оперативной памяти телефона и длительность загрузки. ListBot Отправляет расписание списком, иначе говоря текстовым сообщением, что позволяет не засорять память, выигрывая во времени.
## Требования к проекту
1. [x] Простой интерфейс
Причина: облегчение работы с пользователем
2. [x] Наличие документации
Причина: наличие у пользователя возможности узнать всю информацию о программе, а так же возможность обратной связи с пользователем
3. [x] Наличие нескольких вариантов скачивания и/или установки
Причина: ориентация на пользователей, использующих разное ПО и обладающих разным уровнем знаний в области IT.
## Проектирование системы
  Схему работы telegram-боты можно разделить на две части:
  1. Технические аспекты
  2. Логические аспекты
### Технические аспекты
   Здесь стоит поговорить о том, как именно бот реализует взаимодействие с интернетом, а в частности с telegram.
Основным для работы бота является метод **get_updates()**.

   При загрузке страницы https://api.telegram.org/bot<token>/getupdates мы сталкиваемся с тем, как бот реагирует на какие-то обновления. То есть если прислать боту сообщение, на странице метода **get_updates()** это отобразится.
   
   Принцип работы бота прост, он смотрит на эту страницу и как-то реагирует на полученное изменение. 
   
   Теперь подробнее: все изменения на странице метода отображаются в виде _json-объектов_. Подробнее о них вы можете найти [тут](https://ru.wikipedia.org/wiki/JSON). Для того, чтобы запрограммировать бота на определленую реакцию, вызываемую определенным сообщением необходимо это сообщение _вытащить_ из json-объекта. Есть несколько способов это сделать:
   1. Традиционным образом
   То есть взять все json-объекты
   ```
   all_updates = bot.get_updates()
   ```
   А затем выделить из них последний
   ```
   last_update = all_updates[len(all_updates)-1]
   ```
   Это неудобно и громоздко, поэтому в своей программе я пользуюсь API для telegram-ботов, которое называется telebot. Это позволяет сделать простые элементы бота более компактными. API устанавливается как модуль для python, об этом написано в приложении.
   
   Итак, наш вариант выглядит так:
   ```
@bot.message_handler(content_types=['text'])
def handle_text(message):
    if (message.text == 'Hi') or (message.text == 'Hello'):
        answer = constants.content[0]
        bot.send_message(message.chat.id, answer)
   ```
  Здесь написано, что если поле `text` json-объекта последнего обновления содержит строку _Hi_ или _Hello_, то бот отправляет пользователю, который прислал это сообщение ответ. Сам ответ находится в отдельном файле:
  ```
  ~/listbot/import/constants.py
  ```
  
   
### Логические аспекты
## Выбор технологий
### Выбор языка программирования
### Выбор используемых библиотек
## Описание технических решений
## Заключение
## Список использыемых источников
